#!/bin/bash

aws emr create-cluster --auto-scaling-role EMR_AutoScaling_DefaultRole --applications Name=Hadoop Name=Hive Name=Hue Name=Spark Name=Zeppelin Name=Tez Name=Sqoop Name=Livy Name=Oozie --ebs-root-volume-size 10 --ec2-attributes '{"KeyName":"TET-Lab3","InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-1498d073","EmrManagedSlaveSecurityGroup":"sg-028d4ffac444e5fd3","EmrManagedMasterSecurityGroup":"sg-0608d77eac179db85"}' --service-role EMR_DefaultRole --release-label emr-5.27.0 --name 'TET Lab 3 Cluster 1' --instance-groups '[{"InstanceCount":1,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":2}]},"InstanceGroupType":"MASTER","InstanceType":"m4.xlarge","Name":"Master - 1"},{"InstanceCount":2,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":2}]},"InstanceGroupType":"CORE","InstanceType":"m4.xlarge","Name":"Core - 2"}]' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region us-east-1
